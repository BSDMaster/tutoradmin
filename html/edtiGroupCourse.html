<!DOCTYPE html>
<html>

<head>

</head>

<body>
    <div>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="#">หน้าหลัก</a>
            </li>
            <li class="breadcrumb-item active">อัตราค่าเรียนพิเศษ</li>
        </ol>
    </div>
    <div class="label-header">อัตราค่าเรียนพิเศษ</div>

    <table id="gridGroupCourse" class="table table-condensed table-hover table-striped">
        <thead>
            <tr>
                <th data-column-id="id" data-identifier="true" data-type="numeric">รหัสกลุ่มวิชาเรียน</th>
                <th data-column-id="groupCourseName">ชื่อกลุ่มวิชาเรียน</th>
                <th data-column-id="onePerson">1 คน</th>
                <th data-column-id="twoPerson">2 คน</th>
                <th data-column-id="threePerson">3 คน</th>
                <th data-column-id="upperFourPerson">4 คนขึ้นไป</th>
                <th data-column-id="commands" data-formatter="commands" data-sortable="false"></th>
            </tr>
        </thead>
    </table>

    <!-- Modal Add Class-->
    <div class="modal fade" id="modalAddGroupCourse" tabindex="-1" role="dialog" aria-labelledby="modalAddGroupCourseLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalAddGroupCourseLabel">เพิ่มกลุ่มวิชาเรียน</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="txtGroupCourseName">ชื่อกลุ่มวิชา</label>
                            <input type="email" class="form-control" id="txtGroupCourseName">
                        </div>
                        <div class="form-group">
                            <label for="txtOnePerson">1 คน</label>
                            <input type="email" class="form-control" id="txtOnePerson">
                        </div>
                        <div class="form-group">
                            <label for="txtTwoPerson">2 คน</label>
                            <input type="email" class="form-control" id="txtTwoPerson">
                        </div>
                        <div class="form-group">
                            <label for="txtThreePerson">3 คน</label>
                            <input type="email" class="form-control" id="txtThreePerson">
                        </div>
                        <div class="form-group">
                            <label for="txtUpperFourPerson">4 คนขึ้นไป</label>
                            <input type="email" class="form-control" id="txtUpperFourPerson">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btnSaveAddGroupCourse">ตกลง</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">ยกเลิก</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        jQuery(document).ready(function () {
            console.log("Load on edit group course page");

        });

        //grid Class
        _gGridGroupCourse = $("#gridGroupCourse").bootgrid({
            formatters: {
                "taxi": function (column, row) {
                    return "<button type=\"button\" class=\"btn btn-xs btn-default command-edit\" data-row-id=\"" + row.id + "\">Car<span class=\"fa fa-pencil\"></span></button> "
                },
                "commands": function (column, row) {
                    console.log("row=", row);
                    return "<button type=\"button\" class=\"btn btn-xs btn-default command-edit\" data-row-id=\"" + row.id + "\">Edit<span class=\"fa fa-pencil\"></span></button> " +
                        "<button type=\"button\" class=\"btn btn-xs btn-default command-delete\" data-row-id=\"" + row.id + "\">Delete<span class=\"fa fa-trash-o\"></span></button>";
                }
            }
        }).on("loaded.rs.jquery.bootgrid", function () {
            _gGridGroupCourse.find(".command-edit").on("click", function (e) {
                alert("You pressed edit on row: " + $(this).data("row-id"));
            }).end().find(".command-delete").on("click", function (e) {
                var rows = [];
                rows[0] = parseInt($(this).data("row-id"));
                _gGridGroupCourse.bootgrid('remove', rows);
            });
        });

        

        $("#btnSaveAddGroupCourse").on("click", function (e) {
            var txtGroupCourseName = $("#txtGroupCourseName").val();
            var txtOnePerson = $("#txtOnePerson").val();
            var txtTwoPerson = $("#txtTwoPerson").val();
            var txtThreePerson = $("#txtThreePerson").val();
            var txtUpperFourPerson = $("#txtUpperFourPerson").val();
            if (txtGroupCourseName && txtOnePerson && txtTwoPerson && txtThreePerson && txtUpperFourPerson) {
                _gGridGroupCourse.bootgrid("append", [
                    {
                        "id": _gGridGroupCourse.bootgrid("getTotalRowCount") + 1,
                        "groupCourseName": txtGroupCourseName,
                        "onePerson": txtOnePerson,
                        "twoPerson": txtTwoPerson,
                        "threePerson": txtThreePerson,
                        "upperFourPerson": txtUpperFourPerson
                    }
                ]);
            }
            else {
                alert("invalid input");
            }
        });
    </script>
</body>

</html>