<!DOCTYPE html>
<!-- saved from url=(0048)http://getbootstrap.com/2.3.2/examples/hero.html -->
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <title>ADMIN</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Le styles -->
  <!--<link href="./library/bootstrap.css" rel="stylesheet">-->

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!--Library Table-->
  <script src="./library/bootgrid/jquery.bootgrid.js"></script>
  <script src="./library/bootgrid/jquery.bootgrid.fa.js"></script>
  <link href="./library/bootgrid/jquery.bootgrid.css" rel="stylesheet">

  <link href="./library/bootstrap-responsive.css" rel="stylesheet">
  <!--Override CSS-->
  <!--    <link href="./css/bootstrap.css" rel="stylesheet">-->
  <link href="./css/bootstrap.min.css" rel="stylesheet">
  <link href="./css/style.css" rel="stylesheet">
  <link href="./css/override.css" rel="stylesheet">
  <script>
    //_gUserEmail = 'tutor1@gmail.com';  //bypass login
    _gUser = {
      stfId: null,
      stfName: null,
      stfRole: null
    };
    _gNoResultFound = 'ไม่พบรายการ';
    _gServiceURL = 'http://localhost:8080/tutormatchingservices-0.0.1-SNAPSHOT/';
    _gSelectedTurId = null;
    _gSelectedReqId = null;
  </script>
</head>

<body data-gr-c-s-loaded="true">
  <!--
  <div id="divMainNavBar" class="navbar navbar-inverse navbar-fixed-top" style="display:none;">
    <div class="navbar-inner">
      <div class="container">
        <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="brand" href="javascript:loadMainPage();">Tutor</a>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li><a href="javascript:changePage('./html/schedule.html');">ตารางสอน</a></li>
            <li><a href="javascript:changePage('./html/rate.html');">อัตราค่าเรียน</a></li>
            <li><a href="javascript:changePage('./html/contact.html');">ติดต่อเรา</a></li>
            <li class="dropdown">
              <a id="divShowUser" class="dropdown-toggle" data-toggle="dropdown">User <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="javascript:changePage('./html/profile.html');">แก้ไขข้อมูลส่วนตัว</a></li>
                <li><a href="javascript:logout();">ออกจากระบบ</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>-->
  <!--
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">WebSiteName</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="#">Home</a></li>
      <li><a href="#">Page 1</a></li>
      <li><a href="#">Page 2</a></li>
      <li><a href="#">Page 3</a></li>
    </ul>
  </div>
</nav>-->

<nav id="divStaff1" class="navbar navbar-expand-lg navbar-dark bg-dark" style="display:none;">
    <div class="container-fluid">
      <a class="navbar-brand mb-0 h1" href="javascript:loadMainPage();">เจ้าของกิจการ</a>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="javascript:changePage('./html/schedule.html');">รายงาน</a>
            </li>
          <li class="nav-item dropdown">
            <a id="divShowUser1" class="nav-link dropdown-toggle" data-toggle="dropdown">User</a>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="javascript:changePage('./html/profile.html');">ข้อมูลส่วนตัว</a>
              <a class="dropdown-item" href="javascript:logout();">ออกจากระบบ</a>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <nav id="divStaff2" class="navbar navbar-expand-lg navbar-dark bg-dark" style="display:none;">
    <div class="container-fluid">
      <a class="navbar-brand mb-0 h1" href="javascript:loadMainPage();">พนักงานรับงานสอนพิเศษ</a>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav ml-auto">
            <li class="nav-item dropdown ">
              <a class="nav-link dropdown-toggle" data-toggle="dropdown">แก้ไขข้อมูลวิชาเรียน</a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="javascript:changePage('./html/editSubGroupCourse.html');">กลุ่มวิชาเรียน</a>
                <a class="dropdown-item" href="javascript:changePage('./html/editCourse.html');">วิชาเรียน</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="javascript:changePage('./html/edtiGroupCourse.html');">แก้ไขอัตราค่าเรียนพิเศษ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="javascript:changePage('./html/schedule.html');">รายงาน</a>
            </li>
          <li class="nav-item dropdown">
            <a id="divShowUser2" class="nav-link dropdown-toggle" data-toggle="dropdown">User</a>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="javascript:changePage('./html/profile.html');">ข้อมูลส่วนตัว</a>
              <a class="dropdown-item" href="javascript:logout();">ออกจากระบบ</a>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <nav id="divStaff3" class="navbar navbar-expand-lg navbar-dark bg-dark" style="display:none;">
      <div class="container-fluid">
        <a class="navbar-brand mb-0 h1" href="javascript:loadMainPage();">พนักงานจัดหาติวเตอร์</a>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link" href="javascript:changePage('./html/edtiGroupCourse.html');">รายการติวเตอร์ที่รอการอนุมัติ</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="javascript:changePage('./html/edtiGroupCourse.html');">รายการแนะนำงานสอนที่รอตรวจสอบผลการชำระเงิน</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="javascript:changePage('./html/edtiGroupCourse.html');">รายการงานสอนที่รอการอนุมัติ</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="javascript:changePage('./html/schedule.html');">รายงาน</a>
              </li>
            <li class="nav-item dropdown">
              <a id="divShowUser3" class="nav-link dropdown-toggle" data-toggle="dropdown">User</a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="javascript:changePage('./html/profile.html');">ข้อมูลส่วนตัว</a>
                <a class="dropdown-item" href="javascript:logout();">ออกจากระบบ</a>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  <div id="divMainContainer" class="container">

  </div>
  <!-- /container -->



  <!-- Le javascript
================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <!--
    <script src="./library/bootstrap-transition.js"></script>
   
    <script src="./library/bootstrap-alert.js"></script>
    <script src="./library/bootstrap-modal.js"></script>
    <script src="./library/bootstrap-dropdown.js"></script>
    <script src="./library/bootstrap-scrollspy.js"></script>
    <script src="./library/bootstrap-tab.js"></script>
    <script src="./library/bootstrap-tooltip.js"></script>
    <script src="./library/bootstrap-popover.js"></script>
    <script src="./library/bootstrap-button.js"></script>
    <script src="./library/bootstrap-collapse.js"></script>
    <script src="./library/bootstrap-carousel.js"></script>
    <script src="./library/bootstrap-typeahead.js"></script>-->

  <script>

    jQuery(document).ready(function () {
      console.log("ready!");
      if (_gUser.stfId == null) {
        jQuery("#divMainContainer").load('./html/login.html');
      }
      else {
        // loadMainPage();
      }
    });

    function changePage(page) {
      jQuery("#divMainContainer").load(page);
    }

    function login(email, password) {
      console.log("email=", email);
      console.log("password=", password);
      var data = {
        email: email,
        password: password
      }
      console.log(data);
      //if(_gUserEmail){   //call web service for check user credential
      $.ajax({
        type: "POST",
        url: "http://localhost:8080/tutormatchingservices-0.0.1-SNAPSHOT/staff/login",
        data: JSON.stringify(data),
        contentType: "application/json; charset=utf-8",
        crossDomain: true,
        dataType: "json",
        success: function (data, status, jqXHR) {
          console.log(data);
          _gUser.stfId = data.data.stfId;
          _gUser.stfName = data.data.stfName;
          _gUser.stfRole = data.data.stfRole;
          
          loadMainPage();
          // alert("Tutor ID : " + data.data.id);
        },

        error: function (jqXHR, status) {
          // error handler
          console.log(jqXHR);
          alert('fail' + status.code);
        }
      });

      //testOnly


      // }
    }

    function loadMainPage() {
      
      if (_gUser.stfRole == 2) {
        jQuery("#divMainContainer").load('./html/main2.html');
        jQuery("#divShowUser2").html(_gUser.stfName);
        jQuery('#divStaff1').hide();
        jQuery('#divStaff2').show();
        jQuery('#divStaff3').hide();
      } else if (_gUser.stfRole == 3) {
        jQuery("#divMainContainer").load('./html/main3.html');
        jQuery("#divShowUser3").html(_gUser.stfName);
        jQuery('#divStaff1').hide();
        jQuery('#divStaff2').hide();
        jQuery('#divStaff3').show();
      } else if (_gUser.stfRole == 1) {
        jQuery("#divMainContainer").load('./html/main1.html');
        jQuery("#divShowUser1").html(_gUser.stfName);
        jQuery('#divStaff1').show();
        jQuery('#divStaff2').hide();
        jQuery('#divStaff3').hide();
      }
      else {
        console.log("pls check user credential");
      }
    }

    function logout() {
      jQuery("#divMainContainer").load('./html/login.html');
      jQuery("#divStaff1").css('display', 'none');
      jQuery("#divStaff2").css('display', 'none');
      jQuery("#divStaff3").css('display', 'none');
    }
  </script>

</body>

</html>